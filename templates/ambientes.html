<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Agendamentos</title>

<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">


    <!-- Fonte -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
 
<div id="dashboard" class="dashboard">

    <!-- Sidebar -->
    {% include 'base.html' %}

  

    <!-- Conteúdo Principal -->
    <main class="main-content">

        <!-- Topbar -->
        <div class="topbar">
               <div></div>
             

            <div class="topbar-actions">
                  <button class="icon-button" onclick="modalConfig(event)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>

                </button>
                <button class="icon-button" onclick="modal_notificacao()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span id="badge-notificacao" class="badge-notificacao"></span>
                </button>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="content-main">

                          <section class="section">
                    <div class="section-header">
                        <h2>Ambientes Disponíveis</h2>
                    </div>
                    <div class="cards-grid">
                        {% for space in ambientes %}
                        
                        <div class="card" 
                             data-ambiente-id="{{ space.id }}"
                             data-ambiente-nome="{{ space.name }}"
                             data-ambiente-descricao="{{ space.descricao or '' }}"
                             data-ambiente-capacidade="{{ space.capacidade }}"
                             data-ambiente-localizacao="{{ space.localizacao or '' }}"
                             data-ambiente-area="{{ space.area or '' }}"
                             data-ambiente-status="{{ space.status }}"
                             data-ambiente-recursos="{{ space.recursos|join('|') if space.recursos else '' }}">
                           
                            <img src="{{ space.image }}" class="ambiente-imagem" alt="{{ space.name }}"/>
                                                     
                            <div class="card-body">
                                <h3 class="ambiente-nome">{{ space.name }}</h3>
                                <span class="ambiente-status" style="display:none;">{{ space.status }}</span>

                                {% if space.descricao %}
                                <p class="ambiente-descricao">{{ space.descricao }}</p>
                                {% else %}
                                <p class="ambiente-descricao">Sem descrição disponível</p>
                                {% endif %}

                                <div class="info">
                                    <span class="ambiente-capacidade">{{ space.capacidade }} pessoas</span>
                                    {% if space.localizacao %}
                                    <span class="ambiente-localizacao">{{ space.localizacao }}</span>
                                    {% endif %}
                                </div>
                                 {% for recurso in space.recursos %}
                                <div class="recursos" style="display: none;">
                                    <h4>Recursos:</h4>
                                 
                                     <ul>
                                     
                                                   
                                        <li>{{ recurso }}</li>
                                      
                                                  
                                                 </ul>
                                              
                                </div>
                              
      {%endfor%}  
                                <div class="actions">
                                    <button class="btn-details" onclick="abrirModalDetalhesAmbiente(this)" data-ambiente='{{ space|tojson }}'>
                                        Ver Detalhes
                                    </button>
                                    <button class="btn-reserve" onclick="abrirModalAgendamento('{{ space.id }}', '{{ space.name }}')">
                                        Reservar
                                    </button>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </section>

                </div>
            </div>
    </main>
  </div>

{%include 'modais/modal_ambiente_detalhes.html' %}
{% include 'modais/modal_ambiente_agendamento.html'%}

{%include 'config.html' %}


    <script src="/static/Javascript/ambientes.js"></script>
   <script src="/static/Javascript/barra_pesquisa.js"></script>

</body>
</html>
